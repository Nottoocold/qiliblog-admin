# 个人博客后台管理系统 - 功能规划文档

## 📋 项目概述

**项目名称**: qiliblog-admin  
**项目类型**: 个人博客后台管理系统  
**技术栈**: React 18 + TypeScript + Vite + Ant Design 5 + Zustand + React Router 6

## 🎯 项目目标

构建一个功能完善、体验优秀的个人博客后台管理系统，支持文章管理、内容分类、用户权限、数据统计等核心功能。

---

## ✅ 已实现功能

### 1. 基础架构
- [x] React + TypeScript + Vite 项目搭建
- [x] Ant Design 5 UI 框架集成
- [x] React Router 6 路由配置
- [x] Zustand 状态管理（带持久化）
- [x] HTTP 客户端封装（ky）
- [x] Token 刷新机制
- [x] 错误处理机制
- [x] 主题切换（明暗模式）
- [x] 响应式布局

### 2. 认证授权
- [x] 用户登录
- [x] 用户信息获取
- [x] 用户登出
- [x] Token 管理（AccessToken + RefreshToken）
- [x] 路由守卫（RouteGuard）
- [x] 权限保护布局（ProtectManagerLayout）

### 3. 内容管理
- [x] 分类管理（CRUD）
  - 分类列表（分页、搜索、排序）
  - 创建分类
  - 更新分类
  - 删除分类
- [x] 标签管理（CRUD）
  - 标签列表（分页、搜索、排序）
  - 创建标签
  - 更新标签
  - 删除标签

### 4. 系统管理
- [x] 用户管理页面（框架）
- [x] 角色管理页面（框架）

### 5. 通用组件
- [x] 搜索表单组件（SearchForm）
- [x] 表格查询工具（createAntdTableQuery）
- [x] 加载组件（ScreenLoading）
- [x] 用户信息展示（HeaderUserInfo）
- [x] 主题切换组件（ThemeSwitch）

---

## 🚀 待实现功能（按优先级）

### 📊 Phase 1: 核心功能（高优先级）

#### 1.1 首页仪表板 ⭐⭐⭐
**功能描述**: 数据统计和概览页面

**子功能**:
- [ ] 数据统计卡片
  - 文章总数
  - 分类总数
  - 标签总数
  - 评论总数
  - 访问量统计
  - 今日新增数据
- [ ] 数据图表
  - 文章发布趋势（折线图/柱状图）
  - 分类文章分布（饼图）
  - 访问量趋势（折线图）
  - 热门文章排行（列表）
- [ ] 快捷操作
  - 快速发布文章
  - 快速查看待审核评论
  - 快速查看草稿
- [ ] 最近活动
  - 最近发布的文章
  - 最近的评论
  - 系统通知

**技术实现**:
- 使用 ECharts 或 Ant Design Charts 实现数据可视化
- 使用 ahooks 的 useRequest 进行数据请求
- 支持数据刷新和自动更新

---

#### 1.2 文章管理 ⭐⭐⭐
**功能描述**: 博客文章的核心管理功能

**子功能**:
- [ ] 文章列表
  - 分页展示
  - 多条件搜索（标题、分类、标签、状态、发布时间）
  - 排序（按发布时间、修改时间、浏览量）
  - 批量操作（批量删除、批量发布、批量移动到分类）
  - 状态筛选（已发布、草稿、已删除）
- [ ] 文章编辑
  - 富文本编辑器（Markdown 编辑器，如 MdEditor）
  - 标题设置
  - 摘要设置
  - 封面图片上传
  - 分类选择
  - 标签选择（支持多选、创建新标签）
  - 发布状态设置（草稿、发布、定时发布）
  - SEO 设置（URL Slug、Meta 描述、关键词）
  - 文章设置（是否允许评论、是否置顶、是否推荐）
- [ ] 文章创建
  - 新建文章
  - 从模板创建
  - 从草稿创建
- [ ] 文章操作
  - 预览文章
  - 发布/取消发布
  - 删除/恢复
  - 复制文章
  - 导出文章（Markdown 格式）
- [ ] 文章详情
  - 查看文章详情
  - 查看统计信息（浏览量、点赞数、评论数）
  - 查看历史版本（如果有）

**技术实现**:
- 使用 MdEditor 或类似组件实现 Markdown 编辑
- 使用 Ant Design 的 Upload 组件实现图片上传
- 支持图片粘贴上传
- 支持文章自动保存草稿
- 支持文章预览功能

---

#### 1.3 评论管理 ⭐⭐
**功能描述**: 管理文章的评论

**子功能**:
- [ ] 评论列表
  - 分页展示
  - 搜索（按文章、评论者、内容）
  - 状态筛选（待审核、已通过、已拒绝、已删除）
  - 时间筛选
- [ ] 评论操作
  - 审核评论（通过/拒绝）
  - 回复评论
  - 编辑评论
  - 删除评论
  - 批量操作（批量审核、批量删除）
- [ ] 评论设置
  - 评论审核规则设置
  - 敏感词过滤
  - 评论通知设置

**技术实现**:
- 评论树形结构展示
- 支持评论回复的嵌套展示
- 评论状态实时更新

---

#### 1.4 用户管理 ⭐⭐
**功能描述**: 管理系统用户

**子功能**:
- [ ] 用户列表
  - 分页展示
  - 搜索（用户名、邮箱、昵称）
  - 状态筛选（正常、禁用）
  - 角色筛选
- [ ] 用户操作
  - 创建用户
  - 编辑用户信息
  - 重置密码
  - 启用/禁用用户
  - 删除用户
  - 分配角色
- [ ] 用户详情
  - 查看用户信息
  - 查看用户权限
  - 查看用户操作日志

**技术实现**:
- 用户信息表单验证
- 密码强度验证
- 用户状态管理

---

#### 1.5 角色管理 ⭐⭐
**功能描述**: 管理系统角色和权限

**子功能**:
- [ ] 角色列表
  - 分页展示
  - 搜索（角色名、角色标识）
  - 状态筛选
- [ ] 角色操作
  - 创建角色
  - 编辑角色
  - 删除角色
  - 分配权限（菜单权限、操作权限）
- [ ] 权限配置
  - 菜单权限树
  - 操作权限配置
  - 数据权限配置

**技术实现**:
- 权限树形结构展示
- 权限数据的层级管理
- 权限变更的实时生效

---

### 📦 Phase 2: 扩展功能（中优先级）

#### 2.1 媒体管理 ⭐⭐
**功能描述**: 管理博客的媒体文件

**子功能**:
- [ ] 文件上传
  - 图片上传（支持拖拽、粘贴）
  - 文件上传（支持多种格式）
  - 批量上传
  - 上传进度显示
- [ ] 文件管理
  - 文件列表（缩略图展示）
  - 文件搜索
  - 文件分类
  - 文件重命名
  - 文件删除
  - 文件信息查看（大小、格式、上传时间）
- [ ] 文件操作
  - 图片裁剪
  - 图片压缩
  - 图片格式转换
  - 文件下载

**技术实现**:
- 使用 Ant Design Upload 组件
- 支持图片预览
- 支持文件类型筛选
- 支持文件大小限制

---

#### 2.2 系统设置 ⭐⭐
**功能描述**: 系统全局配置

**子功能**:
- [ ] 基础设置
  - 网站名称
  - 网站描述
  - 网站 Logo
  - 网站图标（Favicon）
  - 备案信息
  - 联系方式
- [ ] SEO 设置
  - 网站关键词
  - 网站描述
  - Robots.txt 配置
  - Sitemap 配置
- [ ] 邮件设置
  - SMTP 服务器配置
  - 邮件模板配置
  - 邮件通知设置
- [ ] 评论设置
  - 评论审核规则
  - 评论通知设置
  - 敏感词管理
- [ ] 其他设置
  - 文章设置（默认分类、默认标签）
  - 上传设置（文件大小限制、允许的文件类型）
  - 缓存设置
  - 备份设置

**技术实现**:
- 设置数据的持久化存储
- 设置变更的实时生效
- 设置项的验证和校验

---

#### 2.3 数据统计 ⭐
**功能描述**: 详细的数据统计分析

**子功能**:
- [ ] 文章统计
  - 文章发布趋势
  - 文章分类分布
  - 文章标签分布
  - 文章浏览量统计
  - 热门文章排行
- [ ] 访问统计
  - 访问量统计（PV、UV）
  - 访问来源统计
  - 访问设备统计
  - 访问地区统计
  - 访问时间分布
- [ ] 用户统计
  - 用户增长趋势
  - 用户活跃度
  - 用户角色分布
- [ ] 评论统计
  - 评论数量趋势
  - 评论审核通过率
  - 热门评论

**技术实现**:
- 使用 ECharts 或 Ant Design Charts
- 支持数据导出（Excel、PDF）
- 支持数据时间范围选择
- 支持数据刷新

---

#### 2.4 日志管理 ⭐
**功能描述**: 系统操作日志记录

**子功能**:
- [ ] 操作日志
  - 日志列表（分页、搜索）
  - 日志详情查看
  - 日志筛选（操作类型、用户、时间）
  - 日志导出
- [ ] 登录日志
  - 登录记录
  - 登录IP记录
  - 登录设备记录
  - 异常登录提醒
- [ ] 错误日志
  - 系统错误记录
  - 错误详情查看
  - 错误统计分析

**技术实现**:
- 日志数据的实时展示
- 日志数据的筛选和搜索
- 日志数据的导出功能

---

### 🎨 Phase 3: 优化功能（低优先级）

#### 3.1 文章模板 ⭐
**功能描述**: 文章编辑模板管理

**子功能**:
- [ ] 模板列表
- [ ] 创建模板
- [ ] 编辑模板
- [ ] 删除模板
- [ ] 使用模板创建文章

---

#### 3.2 文章回收站 ⭐
**功能描述**: 已删除文章的管理

**子功能**:
- [ ] 回收站列表
- [ ] 恢复文章
- [ ] 永久删除
- [ ] 清空回收站

---

#### 3.3 文章版本管理 ⭐
**功能描述**: 文章的历史版本管理

**子功能**:
- [ ] 版本列表
- [ ] 版本对比
- [ ] 版本恢复
- [ ] 版本删除

---

#### 3.4 通知中心 ⭐
**功能描述**: 系统通知管理

**子功能**:
- [ ] 通知列表
- [ ] 通知详情
- [ ] 通知已读/未读
- [ ] 通知删除
- [ ] 通知设置

---

#### 3.5 数据备份与恢复 ⭐
**功能描述**: 系统数据备份和恢复

**子功能**:
- [ ] 数据备份
- [ ] 备份列表
- [ ] 数据恢复
- [ ] 自动备份设置

---

## 🏗️ 技术架构

### 前端技术栈
- **框架**: React 18.3
- **语言**: TypeScript 5.8
- **构建工具**: Vite 7.1
- **UI 框架**: Ant Design 5.27
- **状态管理**: Zustand 5.0
- **路由**: React Router 6
- **HTTP 客户端**: ky 1.10
- **工具库**: ahooks 3.9
- **样式**: Less 4.4

### 项目结构
```
src/
├── components/          # 通用组件
├── pages/              # 页面组件
├── layout/             # 布局组件
├── router/             # 路由配置
├── services/           # API 服务
├── store/              # 状态管理
├── types/              # TypeScript 类型定义
├── utils/              # 工具函数
└── config/             # 配置文件
```

### 代码规范
- ESLint + Prettier 代码格式化
- TypeScript 严格模式
- 组件化开发
- 类型安全

---

## 📅 开发计划

### 第一阶段（核心功能）
**时间**: 2-3 周
- [ ] 首页仪表板
- [ ] 文章管理（完整功能）
- [ ] 评论管理
- [ ] 用户管理
- [ ] 角色管理

### 第二阶段（扩展功能）
**时间**: 2-3 周
- [ ] 媒体管理
- [ ] 系统设置
- [ ] 数据统计
- [ ] 日志管理

### 第三阶段（优化功能）
**时间**: 1-2 周
- [ ] 文章模板
- [ ] 文章回收站
- [ ] 文章版本管理
- [ ] 通知中心
- [ ] 数据备份与恢复

### 第四阶段（测试与优化）
**时间**: 1 周
- [ ] 功能测试
- [ ] 性能优化
- [ ] 用户体验优化
- [ ] 文档完善

---

## 🎯 功能优先级说明

- ⭐⭐⭐ **高优先级**: 核心功能，必须实现
- ⭐⭐ **中优先级**: 重要功能，建议实现
- ⭐ **低优先级**: 可选功能，根据需求实现

---

## 📝 备注

1. **文章编辑器选择**: 建议使用 Markdown 编辑器（如 MdEditor），支持实时预览
2. **数据可视化**: 建议使用 ECharts 或 Ant Design Charts
3. **文件上传**: 建议使用 OSS 或 CDN 存储，减轻服务器压力
4. **权限管理**: 建议实现 RBAC（基于角色的访问控制）模型
5. **数据统计**: 建议集成第三方统计服务（如 Google Analytics）
6. **性能优化**: 注意大数据量下的性能优化（虚拟滚动、分页加载等）
7. **用户体验**: 注意加载状态、错误提示、操作反馈等细节

---

## 🔄 更新日志

- **2024-XX-XX**: 初始功能规划文档创建
- 后续更新将记录在此处

---

## 📧 联系方式

如有问题或建议，请通过以下方式联系：
- GitHub Issues
- 项目维护者邮箱

